{% extends 'templates/app.twig' %}
{% block title %} Admin Page - MIT Book Store {% endblock %}

{% block nav %}
	{% include 'templates/partials/navadmin.twig' %}
{% endblock %}

{% block content %}
    <div class="content-wrapper">
    	<section class="content-header">
    		<h1>
				Book
		    </h1>
		    <ol class="breadcrumb">
		        <li><a href="{{ path_for('book.index')}}"><i class="fa fa-book"></i>Book</a></li>
		    </ol>
    	</section>
			<section class="content">
				<div class="box">
            <div class="box-header">
              <h3 class="box-title">
  		        <a href="{{ path_for('book.index')}}" class="btn btn-info"> Back</a>
			  </h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">

<form role="form" action="{{path_for('book.postupdate', {('id'):table.id})}}" method="post">

  <!-- input states -->
  <div class="form-group {{ errors.publisher_id ? 'has-error' : '' }}">
    <label class="control-label" for="name">
		{{ errors.publisher_id ? '<i class="fa fa-times-circle-o"></i>': ''}}
		 Publisher
	</label>
	<select class="form-control select2" style="width: 100%;" name="publisher_id"
	id="publisher_id" >

	{% if table.publisher_id %}
	  <option selected="selected" value="{{table.id}}">{{old.publisher_id ? old.publisher_id : table.publisher_id}}</option>
	{% endif %}

	{% for tablex in table_publisher %}
	  <option value="{{tablex.id}}">{{tablex.name}}</option>
	{% endfor %}
	</select>

	{% if errors.publisher_id %}
    <span class="help-block">{{ errors.publisher_id | first }}</span>
	{% endif %}
  </div>

  <div class="form-group {{ errors.isbn ? 'has-error' : '' }}">
	<label class="control-label" for="isbn">
	   {{ errors.isbn ? '<i class="fa fa-times-circle-o"></i>': ''}}
		ISBN
   </label>
	<input type="text" name="isbn" class="form-control" id="isbn" placeholder="ISBN" value="{{old.isbn ? old.isbn : table.isbn}}">
   {% if errors.isbn %}
	<span class="help-block">{{ errors.isbn | first }}</span>
   {% endif %}
  </div>

  <div class="form-group {{ errors.title ? 'has-error' : '' }}">
	<label class="control-label" for="title">
	   {{ errors.title ? '<i class="fa fa-times-circle-o"></i>': ''}}
		Title
   </label>
	<input type="text" name="title" class="form-control" id="title" placeholder="Title" value="{{old.title ? old.title : table.title}}">
   {% if errors.title %}
	<span class="help-block">{{ errors.title | first }}</span>
   {% endif %}
  </div>

  <div class="form-group {{ errors.description ? 'has-error' : '' }}">
	<label class="control-label" for="description">
	   {{ errors.description ? '<i class="fa fa-times-circle-o"></i>': ''}}
		Description
   </label>
   <textarea name="description" class="form-control" id="description">{{old.description ? old.description : table.description}}</textarea>
   {% if errors.description %}
	<span class="help-block">{{ errors.description | first }}</span>
   {% endif %}
  </div>

  <div class="form-group {{ errors.publish_year ? 'has-error' : '' }}">
	<label class="control-label" for="publish_year">
	   {{ errors.publish_year ? '<i class="fa fa-times-circle-o"></i>': ''}}
		Publish Year
   </label>
	<input type="text" name="publish_year" class="form-control" id="publish_year" placeholder="Publish Year" value="{{old.publish_year ? old.publish_year : table.publish_year}}">
   {% if errors.publish_year %}
	<span class="help-block">{{ errors.publish_year | first }}</span>
   {% endif %}
  </div>

  <div class="form-group {{ errors.total_page ? 'has-error' : '' }}">
	<label class="control-label" for="total_page">
	   {{ errors.total_page ? '<i class="fa fa-times-circle-o"></i>': ''}}
		Total Page
   </label>
	<input type="text" name="total_page" class="form-control" id="total_page" placeholder="Total Page" value="{{old.total_page ? old.total_page : table.total_page}}">
   {% if errors.total_page %}
	<span class="help-block">{{ errors.total_page | first }}</span>
   {% endif %}
  </div>

  <div class="form-group {{ errors.synopsis ? 'has-error' : '' }}">
	<label class="control-label" for="synopsis">
	   {{ errors.synopsis ? '<i class="fa fa-times-circle-o"></i>': ''}}
		Synopsis
   </label>
   <textarea name="synopsis" class="form-control">{{old.synopsis ? old.synopsis : table.synopsis}}</textarea>
   {% if errors.synopsis %}
	<span class="help-block">{{ errors.synopsis | first }}</span>
   {% endif %}
  </div>

  <div class="form-group {{ errors.price ? 'has-error' : '' }}">
  <label class="control-label" for="price">
	 {{ errors.price ? '<i class="fa fa-times-circle-o"></i>': ''}}
	 Price
   </label>
  <input type="text" name="price" class="form-control" id="price" value="{{old.price ? old.price : table.price}}">
   {% if errors.price %}
  <span class="help-block">{{ errors.price | first }}</span>
   {% endif %}
  </div>

  <div class="form-group {{ errors.stock ? 'has-error' : '' }}">
  <label class="control-label" for="stock">
   {{ errors.stock ? '<i class="fa fa-times-circle-o"></i>': ''}}
	Stock
   </label>
  <input type="text" name="stock" class="form-control" id="stock" value="{{old.stock ? old.stock : table.stock}}">
   {% if errors.stock %}
  <span class="help-block">{{ errors.stock | first }}</span>
   {% endif %}
  </div>

<button type="submit" class="btn btn-primary">Submit</button>

</form>


            </div>
        </div>
        <!-- /.box-body -->
        </div>
    </section>
</div>
{% endblock %}
